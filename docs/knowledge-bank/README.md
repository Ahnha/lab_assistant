# Knowledge Bank

**Last updated:** 2025-01-05  
**KB version:** v2025.01.05.1

## What This Is

This Knowledge Bank is a living, versioned documentation artifact that captures the architecture, modules, runtime, data model, and developer workflows of the Lab Assistant application. It is derived directly from the codebase and must be kept accurate.

## How It's Generated

This documentation is generated by scanning the actual codebase:
- Reading source files to understand architecture patterns
- Examining build configuration files (pubspec.yaml, etc.)
- Tracing data flow through repositories, stores, and domain models
- Documenting actual endpoints, routes, and UI components
- Verifying commands against build scripts and configuration

**Everything documented here is backed by actual code paths and file references.**

## How to Keep It Updated

### Update Policy

**Every PR that modifies runtime behavior or structure must include:**
1. Updates to relevant KB sections
2. A CHANGELOG entry in `CHANGELOG.md`

### Update Playbook

When making changes, update the relevant sections:

#### Adding a Module/Feature
- Update `ARCHITECTURE.md` → Module Map section
- Update `FRONTEND_MAP.md` → Routes/Features section (if UI)
- Update `DATA_MODEL.md` → if new domain models or storage keys

#### Adding New Environment Variables
- Update `BUILD_AND_RUN.md` → Environment & Config section

#### Adding New Domain Models
- Update `DATA_MODEL.md` → Domain Models section
- Update `ARCHITECTURE.md` → Domain Layer section

#### Changing Storage Schema
- Update `DATA_MODEL.md` → Storage Schema section
- Update `CHANGELOG.md` with migration notes

#### Adding New Screens/Routes
- Update `FRONTEND_MAP.md` → Routes section
- Update `ARCHITECTURE.md` → Features section

#### Changing Build/Run Commands
- Update `BUILD_AND_RUN.md` → Commands section

### Versioning

- KB version format: `vYYYY.MM.DD.<increment>`
- Increment the last number if multiple updates occur on the same day
- Always update "Last updated" date in this README

## Structure

- **[ARCHITECTURE.md](./ARCHITECTURE.md)** - System architecture, module boundaries, layering, and key flows
- **[BUILD_AND_RUN.md](./BUILD_AND_RUN.md)** - How to run, build, test, and configure the app
- **[DATA_MODEL.md](./DATA_MODEL.md)** - Domain models, storage schema, and data persistence
- **[FRONTEND_MAP.md](./FRONTEND_MAP.md)** - Flutter app structure, routes, state management, and UI patterns
- **[OBSERVABILITY_AND_DEBUG.md](./OBSERVABILITY_AND_DEBUG.md)** - Logging, debugging, and troubleshooting
- **[CHANGELOG.md](./CHANGELOG.md)** - Versioned history of changes to the Knowledge Bank

## Accuracy Guarantee

- ✅ Every claim is backed by a file path or code reference
- ✅ Unknowns are explicitly marked as "Unknown / needs confirmation"
- ✅ No invented features, endpoints, or modules
- ✅ All commands are verified against actual build/config files

## Questions or Gaps?

If you find inaccuracies or missing information:
1. Check the referenced source files
2. If the code has changed, update the KB accordingly
3. Mark unknowns explicitly with file paths to investigate
